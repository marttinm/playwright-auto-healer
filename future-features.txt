# Playwright Auto-Healer - Simple Implementation Plan

## Core Vision: Zero-Config Auto-Healing

### Command Interface
```bash
# User runs this from their Playwright project:
npx playwright-auto-healer scan "npx playwright test login.spec.ts"
npx playwright-auto-healer scan "npx playwright test"
```

### Execution Flow
1. **CLI Wrapper**: Intercepts Playwright command
2. **Auto-Injection**: Injects healing hooks into Playwright execution  
3. **Real-time Healing**: When selector fails → AI suggests → test continues if healed or stops if not
4. **Final Report**: JSON/HTML report with all healing suggestions

## Implementation Strategy (Minimal Complexity)

### Phase 1: CLI Wrapper (Core)
- Single entry point: `src/cli.ts`
- Wraps any Playwright command
- Injects healing globally via Playwright hooks
- Zero configuration required

### Phase 2: Global Hook System  
- Auto-intercepts `page.click()`, `page.fill()`, etc.
- On selector failure: attempt healing once with timeout
- If healed: continue execution + log success
- If not healed: stop execution + log failure

### Phase 3: Smart Reporting
```json
{
  "healingResults": [
    {
      "file": "tests/login.spec.ts",
      "line": 15,
      "oldSelector": ".login-button",
      "newSelector": "[data-testid='login-btn']", 
      "status": "healed", // or "failed"
      "timestamp": "2025-11-04T10:30:00Z"
    }
  ],
  "stats": {
    "totalTests": 5,
    "healingAttempts": 3,
    "successfulHealings": 2,
    "failedHealings": 1
  }
}
```